<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>CL dev JCT</title>
    <meta name="description" content="">
    <meta name="author" content="Cottage Labs">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!--<link href="/static/favicon.ico" rel="icon" type="image/x-icon">-->

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <link href="../static/css/style.css" rel='stylesheet' type='text/css'>

    <script type="text/javascript" src="../static/jct.js"></script>

    <script>
        let st = undefined;
        let ft = document.getElementById('funder');
        _ready = () => {
            ft = document.getElementById('funder');
            if (ft !== null) {
                clearInterval(st);
                console.log(ft);
                console.log('ready');
            } else {
                console.log('not ready')
            }
        }
        if (ft === null) st = setInterval(_ready,100);
    </script>
</head>

<body>

<header>
    <div class="row">
        <div class="col col--1of3 logo">
            <a href="/index.html" class="logo_text">Is this compliant with Plan S?</a>
        </div>
    </div>
    <div class="row row-inputs" id="inputs_plugin"></div>
</header>

<main>
    <div id="results_plugin"></div>
    <div id="spacer"></div>
</main>
<!--<div class="section" id="section_apply" style="display: none">-->
<!--    <p>Also link to explanations on plan-s site of what transformative journal is</p>-->
<!--    <p>And link to our own page here listing all transformative jouranls already known</p>-->
<!--</div>-->
<!--<div class="section" id="section_notify" style="display: none">-->
<!--</div>-->
<!--<div class="section" id="section_journals" style="display: none">-->
<!--    <p>Job of data manager will include ensuring the applications we receive are processed and approved in the system, and reviewing in line with plan-s reqs.</p>-->
<!--</div>-->
<!--<div class="section" id="section_agreements" style="display: none">-->
<!--    <p>Also could allow filtering by institution, to see what agreements your institution is signed up to</p>-->
<!--    <p>Job of data manager will include listing out which institutions are related to which ESAC agreement, which we will store in sheets / backend.</p>-->
<!--    <p>And link to ESAC here, probably recommend them as first place to go to register any new agreements - and maybe have a way for people to let us know directly?</p>-->
<!--    <p><a href="https://esac-initiative.org/about/transformative-agreements/share/">ESAC transformative agreements registration link</a></p>-->
<!--</div>-->
<!--<div class="section" id="section_about" style="display: none">-->

<!--    <p>Which will also contain a blurb about plan-s and why they exist, why they made this</p>-->
<!--    <p>And link to plan-s / coalition-s site for more info</p>-->
<!--</div>-->
<!--<div class="section" id="section_howto" style="display: none">-->
<!--    <p>And also add an FAQ, which may best be generated from a sheet that the data manager can use to answer questions, then feed them in here automatically.</p>-->
<!--</div>-->
<!--<div class="section" id="section_embed" style="display: none">-->
<!--    <p>And how to customise it to set your journal/funder already because no point a user selecting that when already on the website of that entity.</p>-->
<!--</div>-->
<div class="modal" id="modal_feedback" style="display: none">
    <div class="modal-content" id="contact">
        <form id="contact_form">
            <div class="row row-inputs">
                <div class="col col--1of1">
                    <label for="name">Name</label>
                    <input class="contact_input" type="text" id="name" name="name" placeholder="Your name.." value="Aga">
                </div>
            </div>
            <div class="row row-inputs">
                <div class="col col--1of1">
                    <label for="email">Email</label>
                    <input class="contact_input" type="email" id="email" name="email" placeholder="Your email.." value="aga@example.com">
                </div>
            </div>
            <div class="row row-inputs">
                <div class="col col--1of1">
                    <label for="message">Your message</label>
                    <textarea class="contact_input" id="message" name="message" placeholder="Write something..">This is my message.</textarea>
                </div>
            </div>
            <input class="contact_submit" type="submit" value="Submit">

        </form>
        <div id="feedback_success" style="display: none;"><h1>Email sent successfully.</h1></div>
        <div id="feedback_error" style="display: none;"><h1>Ooops, something went wrong.</h1></div>
    </div>
</div>

<div class="footer row">
    <a type="button" id="feedback" class="col col--1of3 pager">Send us feedback </a>
</div>
<!--<div class="row">-->
<!--    <div class="col-sm">-->
<!--        <p>-->
<!--            <button type="button" id="apply" class="button primary small bordered pager">Apply for transformative journal status </button>  <button type="button" id="notify" class="button small bordered pager" >Notify us of changes </button><br>-->
<!--            <button type="button" id="journals" class="button small bordered pager">Transformative journals </button>  <button type="button" id="agreements" class="button small bordered pager" >Transformative agreements </button>-->
<!--        </p>-->
<!--    </div>-->
<!--    <div class="col-sm">-->
<!--        <p style="text-align:right;">-->
<!--            <button type="button" id="about" class="button small bordered pager">About this service </button>  <button type="button" id="about_plans" class="button small bordered pager" >About Plan S / cOAlition S </button><br>-->
<!--            <button type="button" id="howto" class="button small bordered pager">How to use this service </button>  <button type="button" id="embed" class="button small bordered pager" >Use on your site </button>-->

<!--        </p>-->
<!--    </div>-->
<!--</div>-->

</body>

<script>

    jct.setup();

    // jct.d.gebi('mobmenu').addEventListener("click", function(e) {
    //     e.preventDefault();
    //     scroll(0,document.body.scrollHeight);
    // });


    jct.d.each('pager', (el) => {
        el.addEventListener("click", (e) => {
            e.preventDefault();
            let sid = el.getAttribute('id').split('_')[0];
            let modal = jct.d.gebi('modal_' + sid)
            modal.style.display = 'block';

            // if (sid === 'agreements') {
            //     if (!jct.d.gebi('agreements_table')) {
            //         jct.jx('transformative/esac', undefined, (xhr) => {
            //             let data = JSON.parse(xhr.response);
            //             console.log(xhr.response)
            //             let table = '<table id="agreements_table">';
            //             table += '<thead><tr><th>publisher</th><th>country</th><th>customer</th><th>size</th><th>start date</th><th>end date</th><th>ID</th></tr></thead><tbody>';
            //             for (let r in data) {
            //                 table += '<tr>';
            //                 for (let d in data[r]) {
            //                     console.log(d)
            //                     if (['publisher', 'country', 'customer', 'size', 'start_date', 'end_date', 'id'].indexOf(d) !== -1) {
            //                         table += '<td>' + data[r][d] + '</td>';
            //                     }
            //                 }
            //                 table += '</tr>';
            //             }
            //             table += '</tbody>';
            //             table += '</table>';
            //             jct.d.gebi('section_agreements').innerHTML = jct.d.gebi('section_agreements').innerHTML + '<br>' + table;
            //         });
            //     }
            // }
        });
    });

    window.onclick = (e) => {
        let modals = [].slice.call(jct.d.gebc("modal"));
        if (modals.includes(e.target)){
            e.target.style.display = "none";
        }
    }

</script>
<script type="text/javascript" src="../static/contact.js"></script>

</html>