<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>CL dev JCT</title>
    <meta name="description" content="">
    <meta name="author" content="Cottage Labs">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!--<link href="/static/favicon.ico" rel="icon" type="image/x-icon">-->

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <link href="../static/css/style.css" rel='stylesheet' type='text/css'>
    <script src="https://unpkg.com/feather-icons"></script>
    <script type="text/javascript" src="../static/jct.js"></script>
    <script type="text/javascript" src="../static/detailed_results.js"></script>

    <script>
        let st = undefined;
        let ft = document.getElementById('funder');
        _ready = () => {
            ft = document.getElementById('funder');
            if (ft !== null) {
                clearInterval(st);
                console.log(ft);
                console.log('ready');
            } else {
                console.log('not ready')
            }
        }
        if (ft === null) st = setInterval(_ready,100);
    </script>
</head>

<body>

<header>
    <div class="jct">
        <img src="../static/img/journalcheckertool.png" class="jct_logo"  alt="Journal Checker Tool logo">
    </div>
    <div class="jct_beta">
        ( Beta )
    </div>
    <div class="row">
        <div class="col col--1of3 logo">
            <div class="row">
                <div class="col col--5of6 logo_text">
                    <a href="index.html" class="logo_text_link">Is this compliant with Plan S?</a>
                </div>
                <div class="col col--1of6 helpicon">
                    <img src="../static/img/icons/question.svg" alt="circle help icon" class="helpicon_img" id="help_modal_button">
                </div>
            </div>
        </div>
    </div>
    <div class="row row-inputs" id="inputs_plugin"></div>
</header>

<main>
    <div id="results_plugin"></div>
    <div id="detailed_results" style="display: none;"></div>
</main>

<div class="modal" id="modal_feedback" style="display: none">
    <div class="modal-content" id="contact">
        <header class="modal-header">
            <div class="row">
                <div class="col col--1of1">
                    Feedback? Suggestion? Contact us here.
                    <span class="close">&times;</span>
                </div>
            </div>
        </header>
        <form id="contact_form">
            <div class="row row-inputs">
                <div class="col col--1of1">
                    <label for="name">Name</label>
                    <input class="contact_input" type="text" id="name" name="name" placeholder="Your name..">
                </div>
            </div>
            <div class="row row-inputs">
                <div class="col col--1of1">
                    <label for="email">Email</label>
                    <input class="contact_input" type="email" id="email" name="email" placeholder="Your email..">
                </div>
            </div>
            <div class="row row-inputs">
                <div class="col col--1of1">
                    <label for="message">Comment</label>
                    <textarea class="contact_input" id="message" name="message" placeholder="Write something.."></textarea>
                </div>
            </div>
            <input class="contact_submit" type="submit" value="Submit">

        </form>
        <div id="feedback_success" style="display: none;"><h1>Email sent successfully.</h1></div>
        <div id="feedback_error" style="display: none;"><h1>Ooops, something went wrong.</h1></div>
    </div>
</div>

<div class="modal" id="modal_help" style="display: none">
    <div class="modal-content" id="modal_help_content">
        <header class="modal-header">
            <div class="row">
                <div class="col col--1of1">
                    What's this?
                    <span class="close">&times;</span>
                </div>
            </div>
        </header>
        <div class="row">
            <div class="col col--1of1">
                <p>This is a tool that checks for Plan S compliance based on the journal, the funder and the institution associated with your research. This is a <a href="https://www.coalition-s.org/" target="_blank ">cOAlition S project</a>.</p>
                <p>This tool is not currently able to identify routes to Open Access compliance for non-Plan S funders.</p>
            </div>
        </div>

    </div>
</div>

<div class="modal" id="modal_ta" style="display: none">
    <div class="modal-content" id="modal_ta_content">
        <header class="modal-header">
            <div class="row">
                <div class="col col--1of1">
                    Transformative journals
                    <span class="close">&times;</span>
                </div>
            </div>
        </header>
        <div class="row">
            <div class="col col--1of1">
                <p>A Transformative Journal (TJ) is a subscription/hybrid journal that is <strong>actively committed to transitioning to a fully Open Access journal</strong>.</p>
                <p>In addition, a Transformative Journal must:</p>
                <ul>
                    <li>gradually increase the share of Open Access content; and</li>
                    <li>offset subscription income from payments for publishing services (to avoid double payments).</li>
                </ul>
            </div>
        </div>

    </div>
</div>

<div class="modal" id="modal_sa" style="display: none">
    <div class="modal-content" id="modal_self-archiving_content">
        <header class="modal-header">
            <div class="row">
                <div class="col col--1of1">
                    Self-archiving policy
                    <span class="close">&times;</span>
                </div>
            </div>
        </header>
        <div class="row">
            <div class="col col--1of1">
                <p>TODO</p>
            </div>
        </div>

    </div>
</div>

<div class="footer row">
    <a type="button" id="feedback" class="col col--1of3">Send us feedback </a>
</div>

</body>
<script>

    jct.setup();

    // jct.d.gebi('mobmenu').addEventListener("click", function(e) {
    //     e.preventDefault();
    //     scroll(0,document.body.scrollHeight);
    // });


    jct.d.gebi('feedback').addEventListener("click", (e) => {
        e.preventDefault();
        let modal = jct.d.gebi('modal_feedback')
        modal.style.display = 'block';
    });

    jct.d.gebi('help_modal_button').addEventListener("click", () => {
        let modal = jct.d.gebi('modal_help')
        modal.style.display = 'block';
    })

    window.onclick = (e) => {
        let modals = [].slice.call(jct.d.gebc("modal"));
        if (modals.includes(e.target)){
            e.target.style.display = "none";
        }
    }

    jct.d.each("close", (el) => {
        el.addEventListener("click", (e) => {
            e.target.parentNode.parentNode.parentNode.parentNode.parentNode.style.display = "none";
        })
    })

</script>
<script type="text/javascript" src="../static/contact.js"></script>

</html>